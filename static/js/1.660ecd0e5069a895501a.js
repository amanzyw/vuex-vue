webpackJsonp([1],{p7hA:function(t,e){},taF9:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),o=s.n(n),r=s("NYxO"),u={name:"ProductBody",components:{},data:function(){return{}},computed:o()({},Object(r.b)("products",{productsList:"productsList",buyStatus:"buyStatus"})),watch:{buyStatus:function(t,e){console.log("newVal",t);void 0==t||("success"==t?this.$message({message:"购买成功！",type:"success"}):"error"==t?this.$message({message:"购买失败！",type:"error"}):"buying"==t?this.$message({message:"正在购买中，请稍后！",type:"info"}):this.$message({message:"未知错误！",type:"error"}))}},mounted:function(){this.$store.dispatch("products/getAllGoods")},methods:{buy:function(t){console.log(t),t.row.num>0&&this.$store.dispatch("products/buyProduct",o()({},t.row,{id:t.row.id,buyCount:1}))}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productsList}},[s("el-table-column",{attrs:{prop:"label",label:"商品",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"价格",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.price)+"/"+t._s(e.row.unit))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"zhe",label:"折扣"}}),t._v(" "),s("el-table-column",{attrs:{prop:"num",label:"库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(0==e.row.num?"暂无存货":e.row.num))])]}}])}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary",disabled:0==e.row.num,size:"small"},on:{click:function(s){t.buy(e)}}},[t._v("购买")])]}}])})],1)],1)},staticRenderFns:[]};var a={name:"product",components:{ProductBody:s("VU/8")(u,l,!1,function(t){s("p7hA")},null,null).exports},data:function(){return{}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ProductBody")],1)},staticRenderFns:[]},i=s("VU/8")(a,c,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=1.660ecd0e5069a895501a.js.map